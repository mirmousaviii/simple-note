/*TODO: Use a middleware style*/